---
title: Candles
sidebar_position: 1
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";





Package client also includes types for managing index requests.

### Index Candles

There are a varity of types and methods that can be useful in index candle reqeusts. [IndicesCandlesRequest](<#IndicesCandlesRequest>) will generate \[IndicesCandlesResponse\] which is then unpacked into \[models.Candle\]


<a name="IndicesCandlesRequest"></a>
## type IndicesCandlesRequest

```go
type IndicesCandlesRequest struct {
    // contains filtered or unexported fields
}
```

IndicesCandlesRequest represents a request to the [/v1/indices/candles/](<https://www.marketdata.app/docs/api/indices/candles>) endpoint. It encapsulates parameters for resolution, symbol, and dates to be used in the request.

#### Generated By

<a href="#IndexCandles">
- `IndexCandles(client ...*MarketDataClient) *IndicesCandlesRequest`
</a>

  IndexCandles creates a new \*IndicesCandlesRequest and returns a pointer to the request allowing for method chaining.


#### Setter Methods

These methods are used to set the parameters of the request. They allow for method chaining by returning a pointer to the \*IndicesCandlesRequest instance they modify.

- <a href="#IndicesCandlesRequest.Resolution">`Resolution(string) *IndicesCandlesRequest`</a>

  Sets the resolution parameter for the request.

- <a href="#IndicesCandlesRequest.Symbol">`Symbol(string) *IndicesCandlesRequest`</a>

  Sets the symbol parameter for the request.

- <a href="#IndicesCandlesRequest.Date">`Date(interface{}) *IndicesCandlesRequest`</a>

  Sets the date parameter for the request.

- <a href="#IndicesCandlesRequest.From">`From(interface{}) *IndicesCandlesRequest`</a>

  Sets the 'from' date parameter for the request.


#### Execution Methods

These methods are used to send the request in different formats or retrieve the data. They handle the actual communication with the API endpoint.

- <a href="#IndicesCandlesRequest.Raw">`Raw(...*MarketDataClient) (*resty.Response, error)`</a>

  Sends the request as is and returns the raw HTTP response.

- <a href="#IndicesCandlesRequest.Packed">`Packed(...*MarketDataClient) (*IndicesCandlesResponse, error)`</a>

  Packs the request parameters and sends the request, returning a structured response.

- <a href="#IndicesCandlesRequest.Get">`Get(...*MarketDataClient) ([]Candle, error)`</a>

  Sends the request, unpacks the response, and returns the data in a user\-friendly format.




<Tabs>
<TabItem value="Get" label="Example (Get)">




```go
vix, err := IndexCandles().Symbol("VIX").Resolution("D").From("2022-01-01").To("2022-01-05").Get()
if err != nil {
	println("Error retrieving VIX index candles:", err.Error())
	return
}

for _, candle := range vix {
	fmt.Println(candle)
}
```

#### Output

```
Candle{Date: 2022-01-03, Open: 17.6, High: 18.54, Low: 16.56, Close: 16.6}
Candle{Date: 2022-01-04, Open: 16.57, High: 17.81, Low: 16.34, Close: 16.91}
Candle{Date: 2022-01-05, Open: 17.07, High: 20.17, Low: 16.58, Close: 19.73}
```

</TabItem>

<TabItem value="Packed" label="Example (Packed)">




```go
vix, err := IndexCandles().Symbol("VIX").Resolution("D").To("2022-01-05").Countback(3).Packed()
if err != nil {
	println("Error retrieving VIX index candles:", err.Error())
	return
}
fmt.Println(vix)
```

#### Output

```
IndicesCandlesResponse{Time: [1641186000 1641272400 1641358800], Open: [17.6 16.57 17.07], High: [18.54 17.81 20.17], Low: [16.56 16.34 16.58], Close: [16.6 16.91 19.73]}
```

</TabItem>

<TabItem value="Raw" label="Example (Raw)">




```go
vix, err := IndexCandles().Symbol("VIX").Resolution("D").From("2022-01-01").To("2022-01-05").Raw()
if err != nil {
	println("Error retrieving VIX index candles:", err.Error())
	return
}
fmt.Println(vix)
```

#### Output

```
{"s":"ok","t":[1641186000,1641272400,1641358800],"o":[17.6,16.57,17.07],"h":[18.54,17.81,20.17],"l":[16.56,16.34,16.58],"c":[16.6,16.91,19.73]}
```

</TabItem>
</Tabs>

<a name="IndexCandles"></a>
### func IndexCandles

```go
func IndexCandles(client ...*MarketDataClient) *IndicesCandlesRequest
```

IndexCandles creates a new [IndicesCandlesRequest](<#IndicesCandlesRequest>) and associates it with the provided client. If no client is provided, it uses the default client. This function initializes the request with default parameters for date, resolution, and symbol, and sets the request path based on the predefined endpoints for indices candles.

#### Parameters

- `...*MarketDataClient`

  A variadic parameter that can accept zero or one \*MarketDataClient pointer. If no client is provided, the default client is used.


#### Returns

- `*IndicesCandlesRequest`

  A pointer to the newly created \*IndicesCandlesRequest with default parameters and associated client.


<a name="IndicesCandlesRequest.Countback"></a>
### func \(\*IndicesCandlesRequest\) Countback

```go
func (icr *IndicesCandlesRequest) Countback(q int) *IndicesCandlesRequest
```

Countback sets the countback parameter for the IndicesCandlesRequest. It specifies the number of candles to return, counting backwards from the 'to' date.

#### Parameters

- `int`

  An int representing the number of candles to return.


#### Returns

- `*IndicesCandlesRequest`

  A pointer to the \*IndicesCandlesRequest instance to allow for method chaining.


<a name="IndicesCandlesRequest.Date"></a>
### func \(\*IndicesCandlesRequest\) Date

```go
func (icr *IndicesCandlesRequest) Date(q interface{}) *IndicesCandlesRequest
```

Date sets the date parameter for the IndicesCandlesRequest. This method is used to specify the date for which the candle data is requested. It modifies the 'date' field of the IndicesCandlesRequest instance to store the date value.

#### Parameters

- `interface{}`

  An interface\{\} representing the date to be set. It can be a string, a time.Time object, a Unix int, or any other type that the underlying dates package method can process.


#### Returns

- `*IndicesCandlesRequest`

  This method returns a pointer to the \*IndicesCandlesRequest instance it was called on. This allows for method chaining, where multiple setter methods can be called in a single statement.


#### Notes

- If an error occurs while setting the date \(e.g., if the date value is not supported\), the Error field of the request is set with the encountered error, but the method still returns the \*IndicesCandlesRequest instance to allow for further method calls.

<a name="IndicesCandlesRequest.From"></a>
### func \(\*IndicesCandlesRequest\) From

```go
func (icr *IndicesCandlesRequest) From(q interface{}) *IndicesCandlesRequest
```

From sets the 'from' date parameter for the IndicesCandlesRequest. It configures the starting point of the date range for which the candle data is requested.

#### Parameters

- `interface{}`

  An interface\{\} that represents the starting date. It can be a string, a time.Time object, a Unix timestamp or any other type that the underlying dates package can process.


#### Returns

- `*IndicesCandlesRequest`

  A pointer to the \*IndicesCandlesRequest instance to allow for method chaining.


<a name="IndicesCandlesRequest.Get"></a>
### func \(\*IndicesCandlesRequest\) Get

```go
func (icr *IndicesCandlesRequest) Get(optionalClients ...*MarketDataClient) ([]models.Candle, error)
```

Get sends the [IndicesCandlesRequest](<#IndicesCandlesRequest>), unpacks the \[IndicesCandlesResponse\], and returns a slice of \[IndexCandle\]. It returns an error if the request or unpacking fails. This method is crucial for obtaining the actual candle data from the indices candles request. The method first checks if the IndicesCandlesRequest receiver is nil, which would result in an error as the request cannot be sent. It then proceeds to send the request using the Packed method. Upon receiving the response, it unpacks the data into a slice of IndexCandle using the Unpack method from the response. An optional MarketDataClient can be passed to replace the client used in the request.

#### Parameters

- `...*MarketDataClient`

  A variadic parameter that can accept zero or one \*MarketDataClient pointer. If a client is provided, it replaces the current client for this request.


#### Returns

- `[]models.IndexCandle`

  A slice of \[IndexCandle\] containing the unpacked candle data from the response.

- `error`

  An error object that indicates a failure in sending the request or unpacking the response.


<a name="IndicesCandlesRequest.Packed"></a>
### func \(\*IndicesCandlesRequest\) Packed

```go
func (icr *IndicesCandlesRequest) Packed(optionalClients ...*MarketDataClient) (*models.IndicesCandlesResponse, error)
```

Packed sends the IndicesCandlesRequest and returns the IndicesCandlesResponse. This method checks if the IndicesCandlesRequest receiver is nil, returning an error if true. An optional MarketDataClient can be passed to replace the client used in the request. Otherwise, it proceeds to send the request and returns the IndicesCandlesResponse along with any error encountered during the request.

#### Parameters

- `...*MarketDataClient`

  A variadic parameter that can accept zero or one \*MarketDataClient pointer. If a client is provided, it replaces the current client for this request.


#### Returns

- `*models.IndicesCandlesResponse`

  A pointer to the \*IndicesCandlesResponse obtained from the request.

- `error`

  An error object that indicates a failure in sending the request.


<a name="IndicesCandlesRequest.Resolution"></a>
### func \(\*IndicesCandlesRequest\) Resolution

```go
func (icr *IndicesCandlesRequest) Resolution(q string) *IndicesCandlesRequest
```

Resolution sets the resolution parameter for the [IndicesCandlesRequest](<#IndicesCandlesRequest>). This method is used to specify the granularity of the candle data to be retrieved. It modifies the resolutionParams field of the IndicesCandlesRequest instance to store the resolution value.

#### Parameters

- `string`

  A string representing the resolution to be set. Valid resolutions may include values like "D", "5", "1h", etc. See the API's supported resolutions.


#### Returns

- `*IndicesCandlesRequest`

  This method returns a pointer to the \*IndicesCandlesRequest instance it was called on. This allows for method chaining, where multiple setter methods can be called in a single statement. If the receiver \(\*IndicesCandlesRequest\) is nil, it returns nil to prevent a panic.


#### Notes

- If an error occurs while setting the resolution \(e.g., if the resolution value is not supported\), the Error field of the \*IndicesCandlesRequest is set with the encountered error, but the method still returns the IndicesCandlesRequest instance to allow for further method calls by the caller.

<a name="IndicesCandlesRequest.Symbol"></a>
### func \(\*IndicesCandlesRequest\) Symbol

```go
func (icr *IndicesCandlesRequest) Symbol(q string) *IndicesCandlesRequest
```

Symbol sets the symbol parameter for the [IndicesCandlesRequest](<#IndicesCandlesRequest>). This method is used to specify the index symbol for which the candle data is requested.

#### Parameters

- `string`

  A string representing the index symbol to be set.


#### Returns

- `*IndicesCandlesRequest`

  This method returns a pointer to the \*IndicesCandlesRequest instance it was called on. This allows for method chaining, where multiple setter methods can be called in a single statement. If the receiver \(\*IndicesCandlesRequest\) is nil, it returns nil to prevent a panic.


#### Notes

- If an error occurs while setting the symbol \(e.g., if the symbol value is not supported\), the Error field of the IndicesCandlesRequest is set with the encountered error, but the method still returns the IndicesCandlesRequest instance to allow for further method calls or error handling by the caller.

<a name="IndicesCandlesRequest.To"></a>
### func \(\*IndicesCandlesRequest\) To

```go
func (icr *IndicesCandlesRequest) To(q interface{}) *IndicesCandlesRequest
```

To sets the 'to' date parameter for the IndicesCandlesRequest. It configures the ending point of the date range for which the candle data is requested.

#### Parameters

- `interface{}`

  An interface\{\} that represents the ending date. It can be a string, a time.Time object, or any other type that the underlying SetTo method can process.


#### Returns

- `*IndicesCandlesRequest`

  A pointer to the \*IndicesCandlesRequest instance to allow for method chaining.










<a name="IndicesCandlesResponse"></a>
## type IndicesCandlesResponse

```go
type IndicesCandlesResponse struct {
    Date  []int64   `json:"t"` // Date holds the Unix timestamps for each candle, representing the time at which each candle was opened.
    Open  []float64 `json:"o"` // Open contains the opening prices for each candle in the response.
    High  []float64 `json:"h"` // High includes the highest prices reached during the time period each candle represents.
    Low   []float64 `json:"l"` // Low encompasses the lowest prices during the candle's time period.
    Close []float64 `json:"c"` // Close contains the closing prices for each candle, marking the final price at the end of each candle's time period.
}
```

IndicesCandlesResponse represents the response structure for indices candles data. It includes slices for time, open, high, low, and close values of the indices.

#### Generated By

<a href="#IndexCandlesRequest.Packed">
- `IndexCandlesRequest.Packed()`
</a>

  This method sends the IndicesCandlesRequest to the Market Data API and returns the IndicesCandlesResponse. It handles the actual communication with the \[/v1/indices/candles/] endpoint, sending the request, and returns a packed response that strictly conforms to the Market Data JSON response without unpacking the result into individual candle structs.


#### Methods

- <a href="#IndicesCandlesResponse.String">`String()`</a>

  Provides a formatted string representation of the IndicesCandlesResponse instance. This method is primarily used for logging or debugging purposes, allowing the user to easily view the contents of an IndicesCandlesResponse object in a human\-readable format. It concatenates the time, open, high, low, and close values of the indices into a single string.

- <a href="#IndicesCandlesResponse.Unpack">`Unpack() ([]Candle, error)`</a>

  Unpacks the IndicesCandlesResponse into a slice of Candle structs, checking for errors in data consistency.

- <a href="#IndicesCandlesResponse.MarshalJSON">`MarshalJSON()`</a>

  Marshals the IndicesCandlesResponse into a JSON object with ordered keys.

- <a href="#IndicesCandlesResponse.UnmarshalJSON">`UnmarshalJSON(data []byte)`</a>

  Custom unmarshals a JSON object into the IndicesCandlesResponse, including validation.

- <a href="#IndicesCandlesResponse.Validate">`Validate()`</a>

  Runs checks for time in ascending order, equal slice lengths, and no empty slices.

- <a href="#IndicesCandlesResponse.IsValid">`IsValid()`</a>

  Checks if the IndicesCandlesResponse passes all validation checks and returns a boolean.




<a name="IndicesCandlesResponse.IsValid"></a>
### func \(\*IndicesCandlesResponse\) IsValid

```go
func (icr *IndicesCandlesResponse) IsValid() bool
```

#### Returns

- `bool`

  Indicates whether the IndicesCandlesResponse is valid.


<a name="IndicesCandlesResponse.MarshalJSON"></a>
### func \(\*IndicesCandlesResponse\) MarshalJSON

```go
func (icr *IndicesCandlesResponse) MarshalJSON() ([]byte, error)
```

MarshalJSON marshals the IndicesCandlesResponse struct into a JSON object, ensuring the keys are ordered as specified. This method is particularly useful when a consistent JSON structure with ordered keys is required for external interfaces or storage. The "s" key is set to "ok" to indicate successful marshaling, followed by the indices data keys "t", "o", "h", "l", and "c".

#### Returns

- `[]byte`

  A byte slice representing the marshaled JSON object. The keys within the JSON object are ordered as "s", "t", "o", "h", "l", and "c".

- `error`

  An error object if marshaling fails, otherwise nil.


<a name="IndicesCandlesResponse.String"></a>
### func \(\*IndicesCandlesResponse\) String

```go
func (icr *IndicesCandlesResponse) String() string
```

String provides a formatted string representation of the IndicesCandlesResponse instance. This method is primarily used for logging or debugging purposes, allowing the user to easily view the contents of an IndicesCandlesResponse object in a human\-readable format. It concatenates the time, open, high, low, and close values of the indices into a single string.

#### Returns

- `string`

  A formatted string containing the time, open, high, low, and close values of the indices.


<a name="IndicesCandlesResponse.UnmarshalJSON"></a>
### func \(\*IndicesCandlesResponse\) UnmarshalJSON

```go
func (icr *IndicesCandlesResponse) UnmarshalJSON(data []byte) error
```

UnmarshalJSON custom unmarshals a JSON object into the IndicesCandlesResponse, incorporating validation to ensure the data integrity of the unmarshaled object. This method is essential for converting JSON data into a structured IndicesCandlesResponse object while ensuring that the data adheres to expected formats and constraints.

#### Parameters

- `[]byte`

  A byte slice of the JSON object to be unmarshaled.


#### Returns

- `error`

  An error if unmarshaling or validation fails, otherwise nil.


<a name="IndicesCandlesResponse.Unpack"></a>
### func \(\*IndicesCandlesResponse\) Unpack

```go
func (icr *IndicesCandlesResponse) Unpack() ([]Candle, error)
```

Unpack converts the IndicesCandlesResponse into a slice of IndexCandle.

#### Returns

- `A slice of IndexCandle, error if there's an inconsistency in the data slices.


<a name="IndicesCandlesResponse.Validate"></a>
### func \(\*IndicesCandlesResponse\) Validate

```go
func (icr *IndicesCandlesResponse) Validate() error
```

Validate performs multiple checks on the IndicesCandlesResponse to ensure data integrity. This method is crucial for verifying that the response data is consistent and reliable, specifically checking for time sequence, equal length of data slices, and the presence of data in each slice. It's used to preemptively catch and handle data\-related errors before they can affect downstream processes.

#### Returns

- `error`

  An error if any validation check fails, otherwise nil. This allows for easy identification of data integrity issues.





